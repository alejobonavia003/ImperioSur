(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,o=window.wp.blockEditor,s=window.wp.components,n=window.wp.element,i=window.wp.apiFetch;var r=e.n(i);const l=window.ReactJSXRuntime,c=JSON.parse('{"UU":"imperiosur/tiendas-oficiales"}'),a=(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{width:"24",height:"24",fill:"#0078FF"}),(0,l.jsx)("text",{x:"3.5",y:"16",fill:"#FFFFFF","font-size":"10","font-family":"Arial, sans-serif","font-weight":"bold",children:"IS"})]});(0,t.registerBlockType)(c.UU,{icon:a,edit:function({attributes:e,setAttributes:t}){const{useAutomatic:i,customTitle:c,customDescription:a,customLogo:d}=e,[h,x]=(0,n.useState)([]);return(0,n.useEffect)((()=>{i&&r()({path:"/wp-json/custom/v1/brands"}).then((e=>x(e))).catch((e=>console.error("Error fetching brands:",e)))}),[i]),(0,l.jsxs)("div",{...(0,o.useBlockProps)(),children:[(0,l.jsx)("p",{children:"AQUI HAY UN GENERADOR DE TIENDAS OFICIALES"}),(0,l.jsx)(o.InspectorControls,{children:(0,l.jsxs)(s.PanelBody,{title:"Opciones de Tienda",initialOpen:!0,children:[(0,l.jsx)(s.ToggleControl,{label:"Generar automáticamente",checked:i,onChange:e=>t({useAutomatic:e})}),!i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.TextControl,{label:"Título",value:c,onChange:e=>t({customTitle:e})}),(0,l.jsx)(s.TextControl,{label:"Descripción",value:a,onChange:e=>t({customDescription:e})}),(0,l.jsx)(s.TextControl,{label:"URL del Logo",value:d,onChange:e=>t({customLogo:e})})]})]})}),i?(0,l.jsx)("ul",{children:h.map((e=>(0,l.jsxs)("li",{children:[(0,l.jsx)("img",{src:e.logo,alt:e.name,style:{maxWidth:"150px"}}),(0,l.jsx)("h3",{children:e.name}),(0,l.jsx)("p",{children:e.description})]},e.id)))}):(0,l.jsxs)("div",{children:[d&&(0,l.jsx)("img",{src:d,alt:"Logo",style:{maxWidth:"150px"}}),(0,l.jsx)("h3",{children:c}),(0,l.jsx)("p",{children:a})]})]})}})})();