(()=>{"use strict";const e=window.wp.blocks,a=window.wp.components,o=window.wp.blockEditor,t=window.ReactJSXRuntime,n=JSON.parse('{"UU":"revendedores-autos/tarjeta-auto"}'),i=(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,t.jsx)("rect",{width:"24",height:"24",fill:"#0078FF"}),(0,t.jsx)("text",{x:"3.5",y:"16",fill:"#FFFFFF","font-size":"10","font-family":"Arial, sans-serif","font-weight":"bold",children:"IS"})]});(0,e.registerBlockType)(n.UU,{icon:i,edit:function(e){const{attributes:n,setAttributes:i}=e,{cards:r=[]}=n,s=(e,a,o)=>{const t=r.map(((t,n)=>n===e?{...t,[a]:o}:t));i({cards:t})};return(0,t.jsxs)("div",{children:[r.map(((e,n)=>(0,t.jsx)(a.Card,{style:{marginBottom:"20px"},children:(0,t.jsxs)(a.CardBody,{children:[(0,t.jsx)(o.MediaUploadCheck,{children:(0,t.jsx)(o.MediaUpload,{onSelect:e=>((e,a)=>{const o=r.map(((o,t)=>t===e?{...o,imagenes:a}:o));i({cards:o})})(n,e.map((e=>e.url))),allowedTypes:["image"],multiple:!0,gallery:!0,render:({open:e})=>(0,t.jsx)(a.Button,{onClick:e,isPrimary:!0,children:"Seleccionar imágenes"})})}),e.imagenes&&e.imagenes.map(((e,o)=>(0,t.jsx)(a.CardMedia,{children:(0,t.jsx)("img",{src:e,alt:`Auto ${o}`,style:{width:"100%",height:"auto"}})},o))),(0,t.jsx)(a.TextControl,{label:"Marca",value:e.marca,onChange:e=>s(n,"marca",e)}),(0,t.jsx)(a.TextControl,{label:"Modelo",value:e.modelo,onChange:e=>s(n,"modelo",e)}),(0,t.jsx)(a.TextControl,{label:"Año",value:e.año,onChange:e=>s(n,"año",e)}),(0,t.jsx)(a.TextControl,{label:"Precio",value:e.precio,onChange:e=>s(n,"precio",e)}),(0,t.jsx)(a.TextControl,{label:"Descripción",value:e.descripcion,onChange:e=>s(n,"descripcion",e)}),(0,t.jsx)(a.TextControl,{label:"WhatsApp del Revendedor",value:e.whatsapp,onChange:e=>s(n,"whatsapp",e)}),(0,t.jsx)(a.Button,{isDestructive:!0,onClick:()=>(e=>{const a=r.filter(((a,o)=>o!==e));i({cards:a})})(n),style:{marginTop:"10px"},children:"Eliminar Tarjeta"})]})},n))),(0,t.jsx)(a.Button,{isPrimary:!0,onClick:()=>{i({cards:[...r,{marca:"",modelo:"",año:"",precio:"",descripcion:"",whatsapp:"",imagenes:[]}]})},children:"Agregar Tarjeta"})]})},save:function(){return null}})})();