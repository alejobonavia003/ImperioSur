(()=>{"use strict";const e=window.wp.blocks,a=window.wp.components,o=window.wp.blockEditor,n=window.ReactJSXRuntime,s=JSON.parse('{"UU":"revendedores-autos/tarjeta-autop-promocion"}'),l=(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,n.jsx)("rect",{width:"24",height:"24",fill:"#0078FF"}),(0,n.jsx)("text",{x:"3.5",y:"16",fill:"#FFFFFF","font-size":"10","font-family":"Arial, sans-serif","font-weight":"bold",children:"IS"})]});(0,e.registerBlockType)(s.UU,{icon:l,edit:function(e){const{attributes:s,setAttributes:l}=e,{cards:r=[]}=s,t=(e,a,o)=>{const n=r.map(((n,s)=>s===e?{...n,[a]:o}:n));l({cards:n})};return(0,n.jsxs)("div",{children:[r.map(((e,s)=>(0,n.jsx)(a.Card,{style:{marginBottom:"20px"},children:(0,n.jsxs)(a.CardBody,{children:[(0,n.jsx)(o.MediaUploadCheck,{children:(0,n.jsx)(o.MediaUpload,{onSelect:e=>((e,a)=>{const o=r.map(((o,n)=>n===e?{...o,imagenes:a}:o));l({cards:o})})(s,e.map((e=>e.url))),allowedTypes:["image"],multiple:!0,gallery:!0,render:({open:e})=>(0,n.jsx)(a.Button,{onClick:e,isPrimary:!0,children:"Seleccionar imágenes"})})}),e.imagenes&&e.imagenes.map(((e,o)=>(0,n.jsx)(a.CardMedia,{children:(0,n.jsx)("img",{src:e,alt:`Auto ${o}`,style:{width:"100%",height:"auto"}})},o))),(0,n.jsx)(a.TextControl,{label:"Marca",value:e.marca,onChange:e=>t(s,"marca",e)}),(0,n.jsx)(a.TextControl,{label:"Modelo",value:e.modelo,onChange:e=>t(s,"modelo",e)}),(0,n.jsx)(a.TextControl,{label:"Año",value:e.año,onChange:e=>t(s,"año",e)}),(0,n.jsx)(a.TextControl,{label:"Precio",value:e.precio,onChange:e=>t(s,"precio",e)}),(0,n.jsx)(a.TextControl,{label:"Descripción",value:e.descripcion,onChange:e=>t(s,"descripcion",e)}),(0,n.jsx)(a.TextControl,{label:"WhatsApp del Revendedor",value:e.whatsapp,onChange:e=>t(s,"whatsapp",e)}),(0,n.jsx)(a.TextControl,{label:"Mensaje personalizado para WhatsApp",help:"Este mensaje se enviará al hacer clic en el botón, en lugar del mensaje predeterminado.",value:e.mensajePersonalizado||"",onChange:e=>t(s,"mensajePersonalizado",e)}),(0,n.jsx)(a.Button,{isDestructive:!0,onClick:()=>(e=>{const a=r.filter(((a,o)=>o!==e));l({cards:a})})(s),style:{marginTop:"10px"},children:"Eliminar Tarjeta"})]})},s))),(0,n.jsx)(a.Button,{isPrimary:!0,onClick:()=>{l({cards:[...r,{marca:"",modelo:"",año:"",precio:"",descripcion:"",whatsapp:"",imagenes:[],mensajePersonalizado:""}]})},children:"Agregar Tarjeta"})]})},save:function(){return null}})})();